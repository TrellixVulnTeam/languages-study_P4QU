#  JSP
--------------
## 1. JSP 개요
JSP : 자바로 구현된 기술로서, 특히 서블릿이라는 서버 프로그래밍 기술에 기반한 웹 프로그래밍 언어

### 1.1 서블릿과 JSP
서블릿 : 자바를 이용한 서버 프로그래밍 기술로서, 일반 애플리케이션을 개발하기 위해 만들어진 자바를 웹 환경에서 사용하려고 등장
초기의 웹 프로그래밍 기술인 CGI(Common Gateway Interface)를 대체하기 위해 개발되었으나, 느린 처리 속도, 많은 메모리 요구, 불편한 화면 제ㅓ 등의 한계로 인해, PHP, ASP 등에 주도권을 넘겨주게 됨. 그러다 SUN에서 서블릿을 기반으로 하면서 PHP와 유사한 JSP를 선보임

서블릿은 일반적인 자바 클래스의 형태를 취하고 있으며, JSP는 일반 텍스트를 비롯하여 HTML 코드와 몇몇 특수 태그, 자바 코드가 섞인 형태
(일반 텍스트 파일은 실행 가능한 프로그램이 아니므로 특정 동작 수행 불가능)
JSP는 단순하고 직관적이라는 것 외에 서블릿을 기반으로 하기 때문에 자바가 지원하는 기능을 100% 사용할 수 있고 다양한 운영체제와 개발환경을 이용할 수 있다는 장점이 있음. 

JSP의 특징
-자바의 모든 기능을 사용할 수 있어 발전 가능성이 무한함
-서블릿으로 컴파일된 후 메모리에서 처리되기 때문에 많은 사용자의 접속도 원활하게 처리 가능
-JSP 또는 다른 서블릿 간의 데이터를 쉽게 공유 가능
-빈즈라는 자바 컴포넌트 사용 가능
-커스텀 태그를 만들어 사용할 수 있으며, JSTL(JSP Standard Tag Library)과 같은 태그 라이브러리 이용 가능
-스트러츠, 스프링 @MVC 등 다양한 프레임워크와 결합하여 개발 가능

## 2. JSP 처리과정의 이해
JSP는 HTML과 달리 소스 자체로는 실행할 수 없으므로 여러 구성 요소 사이의 흐름을 이해해야 함

### 2.1 JSP 전체 동작 과정
1. 웹 브라우저에서 URL입력
2. DNS 서버로부터 입력한 URL을 변환한 IP주소를 받음
3. 받은 IP 주소의 웹 서버의 특정 포트에 JSP 페이지 요청
4. 웹 서버가 요청 내용을 분석하고 서블릿 컨테이너에 요청을 넘겨 처리
5. 화면에 보일 내용을 HTML 문서 형태로 웹 브라우저에 전송
6. 
### 2.2 서블릿 컨테이너 내부 과정
JSP가 HTML과 같은 일반적인 텍스트 파일 구조인데 비해, 서블릿은 자바 소스로 작성된 클래스 파일 구조로 되어있음.
서블릿 컨테이너는 JSP 파일을 서블릿 소스로 변환해서 컴파일하는데, 일단 컴파일 된 JSP는 단순한 파일이 아니라 컨테이너에서 서블릿 객체로 관리됨.
때문에 최초 JSP 파일에 접근할 때는 컴파일하는 시간이 많이 소요되지만 일단 컴파일되어실행된 다음부터는 서블릿 컨테이너가 처리하기 때문에 빠르게 실행됨.

1. 웹 서버로부터 JSP에 대한 사용자 요청이 컨테이너로 전달됨
2. 요청 JSP에 대한 서블릿 클래스가 존재하면 다음 단계로 진행하고, 존재하지 않을 경우 JSP를 .java 파일로 변환
3. 메모리에 존재 여부를 확인하여 .java 파일을 클래스로 컴파일(컴퓨터에서 실행 가능한 형태인 클래스 파일은 소스가 변경되기 전까지는 메모리에 상주하면서 다시 컴파일되지 않고 서비스됨. JSP 파일이 수정되기 전까지는 과정이 진행되지 않음).
4. 컴파일된 서블릿 클래스는 jspInit() 메서드를 통해 Ready 생태가 되고 컨테이너의 메모리에 적재되어 실행됨
5. 이후 모든 클라이언트 접속에 따라 _jspService() 메서드만 반복해서 호출됨
6. 데이터 베이스 처리 혹은 별도의 기능을 위한 클래스 호출 등이 있다면 실행하고 결과를 취합해 HTML 형태로 구성
7. HTML 형태의 결과를 웹 서버를 경유해 사용자 브라우저에 전달합