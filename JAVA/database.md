# 데이터베이스와 JDBC
------------------------
## 1. 데이터베이스 개요

### 1.1 데이터베이스란
데이터베이스 : 여러 사람이 공유할 목적으로 방대한 데이터를 체계적으로 정리하여 저장한 것으로 데이터를 효율적으로 관리하고 검색 가능
데이터베이스 관리 시스템 : 데이터 베이스를 구성하고 운영하는 소프트웨어 시스템(오라클, MS SQL, 서버, MySQL, IBM DB2, Apache Derby)
특정 데이터베이스 관리 시스템은 표준 SQL 이외에 자체적으로 지원하는 함수나 문법 존재.

### 1.2 데이터베이스의 장단점
일반적으로 데이터를 저장한 파일을 데이터 파일이라고 하는데, 데이터 파일은 서로 연관된 정보를 모아서 레코드를 만드록, 레코드는 다시 연관 레코드를 모아서 파일을 만듦.
데이터 파일들은 운영체제의 파일 시스템에서 관리함.
일반적인 파일 시스템은 응용 분야에 따라 동일한 정보를 여러 파일에 중복 저장하지만 데이터베이스를 이용하면 단순 파일 시스템의 문제를 해결 가능함.

-데이터 중복 최소화
-데이터 불일치 문제 해결
-데이터 공유
-정보 표준화
-데이터에 대한 보안성 제공
-데이터의 무결성
-대량의 데이터의 빠른 검색
-텍스트 이외의 다양한 데이터 관리 가능
-애플리케이션 개발 가능

데이터베이스 도입을 위한 요구사항
-DBMS를 위한 추가적인 하드웨어(서버 장비, 하드 디스크)
-데이터베이스를 관리하는 DBA
-데이터 백업 및 복구와 관련한 전문 기술
-데이터 백업을 위한 비용

### 1.3 데이터베이스의 분류
-파일형(파일 시스템)
-세그먼트형(HDBMS : 계층형 데이터베이스 관리 시스템)
-레코드형(NDB : 네트워크형 데이터베이스 관리 시스템)
-테이블형(RDBMS : 관계형 데이터베이스 관리 시스템)
-클래스형(OO/ORDB : 객체지향 데이터베이스 관리 시스템)

관계형 데이터베이스 : 데이터를 효율적으로 관리하고 데이터에 관계 개념을 부여한 것.
데이터의 기본 관리 단위는 테이블이고 칼럼과 로우로 구성됨.
주 키와 외래 키 등을 통해 테이블 간의 관ㄱ를 기술하고 구조화함.

객체지향 데이터베이스 : 객체지향 개념을 도입한 데이터베이스. 객체 지향의 일반적인 개념인 클래스, 객체, 애트리뷰트, 인스턴스, 캡슐화, 상속 등을 기반으로 데이터를 구조화하는 시스템.
그러나 '표준화 부재','관리 시스템의 복잡성','질의 최적화의 복잡성' 문제로 인해 관계형 데이터베이스를 대체하지 못함. 

### 1.4 데이터베이스의 구성 요소
데이터베이스 테이블  
-테이블 : 데이터를 공통 속성으로 묶고 분류하여 기록한 형태로 데이터베이스 관리의 기본  
-칼럼 또는 필드 : 테이블에서 데이터를 구별하기 위한 속성  
-로우 또는 레코드 : 한 줄 단위의 데이터의 집합  

데이터베이스 키
-키 : 데이터를 식별할 수 있는 고유 정보로 주 키, 보조 키, 후보 키 존재
-주 키 : 테이블이 가지는 여러 키 중 절대적으로 구분되는 키로 테이블 하나 당 하나만 존재.
-외래 키 : 테이블 간의 관계를 나타내고, 데이터의 일관성을 유지하기 위해 사용함.

## 2. SQL문 기본기 다지기
SQL : Structed Query Language 데이터베이스를 이용해서 데이터를 관리하기 위하 표준화된 방법을 정의한 규약
### 2.1 데이터베이스 자료형
-숫자형
-문자형
-바이너리형
-날짜형

### 2.2 기본 SQL 문법 및 실습
DML : Data Manipulation Language 데이터 조작문
SELECT,DELET,UPDATE,INSERT
DDL : Data Definition Language 데이터 정의문
CREATE,ALTER,DROP
DCL : Data Control Language 데이터 제어문
COMMIT,ROLLBACK,GRANT,REVOKE

## 3. JDBC 기본 구조와 API 이해
JDBC : Java Data Connectivity 자바 프로그램에서 다른 기종 간의 데이터베이스를 표준화된 방법으로 접속할 수 있도록 만든 API 규격
데이터베이스 종류와 무관하게 표준화된 API를 이용해 개발 가능

### 3.1 JDBC 개념과 역할
JDBC는 자바 애플리케이션에서 표준화된 방법으로 다양한 데이터베이스에 접속할 수 있도록 설계된 인터페이스.
애플리케이션에서는 드라이버 관리자를 통해 필요한 데이터베이스 드라이버를 로드한 다음 해당 데이터베이스에 접속함.
JDBC 드라이버가 지원하지 않는 데이터베이스는 JDBC 유형 1에 해당하는 JDBC-ODBC 드라이버를 사용가능. ODBC를 지원하는 데이터베이스에 대해 JDBC를 ODBC로 변환해서 연결하는 방법으로 대부분 마이크로소프트 액세스에 연결하여 사용함. 그러나 클라이언트에 ODBC가 설치되어 있어야 함.

### 3.2 JDBC API 이해 및 프로그래밍
1. JDBC 드라이버 로드 (System.setProperty() 또는 Class.forName())
JDK에 포함된 JDBC는 실제 구현 내용이 빠진 규격만 스펙으로 포함되어 있으므로 실제로 동작하려면 각각의 데이터베이스 공급 업체에서 구현한 클래스들을 사전에 로딩해야 함.
2. 데이터베이스 연결 java.sql.Connection  
   실제 데이터베이스와 연결하기 위해서는 Connection 클래스 인스턴스가 필요하며 DriverManager.getConnection(JDBC_URL, "아이디","비밀번호")) 메서드를 이용해 Connection 객체의 레퍼런스를 사용함.
   -JDBC URL : 데이터베이스에 대한 정보를 포함(jdbc:<하위 프로토콜>:<데이터 원본 식별자>)
3. Statement 생성 java.sql.Statement 또는 java.sql.preparedStatement  
4. SQL문 전송(java.sql.Statemnt의 executeQuery() 또는 executeUpdate())
   -executeQuery() : select 문을 수행할 때 사용하며 ResultSet 클래스 인스턴스 반환.
   -executeUpdate() : update, delete 문을 수행할 때 사용하며 int형의 처리된 데이터의 수 반환
5. 결과 받기 java.sql.ResultSet  
   ResultSet 은 실제 처리 결과의 데이터가 모두 있는 구조가 아니라, 데이터의 인덱스 정보만 있는 구조로 결과에 접근할 수 있는 일종의 포인터 개념.
6. 연결 해제 java.sql.Connetcion의 close()
   Connection 인스턴스는 사용한 뒤 반납하지 않으면 계속해서 연결을 유지하므로, 어느 시점에서는 데이터베이스 연결이 부족한 상황이 발생 가능. 사용자가 많은 시스템일수록 커넥션 관리가 중요하며 커넥션 풀로 처리 가능.  
기본 단계 외에 프로그램 규모나 성격에 다라 트랜잭션 처리가 포함되거나 내장 프로시저를 호출하는 경우 java.sql.CallableStatement를 사용
